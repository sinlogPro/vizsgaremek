<div class="filter mb-4">
  <!-- <select [(ngModel)]="filterKey" class="form-control select">
    <option value="">All column</option>
    <option *ngFor="let col of tableColumns" [value]="col.key">{{ col.title }}</option>
  </select>
  <div class="col-12 mt-2">
    <form class="form-inline my-2 my-lg-0 py-2 d-flex justify-content-center">
      <input (keyup)="searchEvent($event)" class="search-input form-control mr-sm-2" type="text"
        placeholder="Enter some text...">
      <button class="btn btn-search my-2 my-sm-0" type="submit">Search</button>
    </form>
</div> -->


  <div class="col-12 select_container input-group">

    <!-- <select [(ngModel)]="filterKey" class="form-control select"> -->
    <select class="form-control" [(ngModel)]="filterKey">
      <option selected value="">All column</option>
      <option *ngFor="let col of tableColumns" [value]="col.key">{{ col.title | titlecase}}</option>
    </select>
  </div>

  <div class="mb-3 input_container">
    <input (keyup)="searchEvent($event)" class="search-input form-control mr-sm-2" type="text"
        placeholder="Enter some text...">
      <button class="btn btn-search my-2 my-sm-0" type="submit">Search</button>
    <!-- <input [(ngModel)]="phrase" type="text" class="form-control" placeholder="Search in all columns at once..." size="15"> -->
  </div>






</div>

{{ filterKey }}
{{ phrase }}



<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th *ngFor="let col of tableColumns" scope="col" class="table__title">
          {{ col.title }}
          <i-feather *ngIf="columnKey !== col.key" (click)="onColumnSelect(col.key)" name="minus"></i-feather>
          <i-feather *ngIf="columnKey === col.key" (click)="onColumnSelect(col.key)" [name]="sortingMark"></i-feather>
          <!-- <i-feather (click)="onColumnSelect(col.key)" [name]="sortingMark"></i-feather> -->

        </th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr
        *ngFor="let row of list | filter:filterKey:phrase | sorter:columnKey:sortDirection | slice:startSlice:endSlice">
        <td *ngFor="let column of tableColumns">
          {{ row[column.key] | xpipe:column.pipes:column.pipeArgs }}
        </td>
        <td>
          <div class="btn-group">
            <button (click)="raiseEdit(row)" class="btn btn-info">
              edit
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  {{ list.length }}
</div>

<!-- {{ list | json }} -->
<i-feather></i-feather>


<nav aria-label="Page navigation example">
  <ul class="pagination mt-4">

    <li class="page-item">
      <button class="page-link page-arrow" (click)="jumpToPage(page-1)" [disabled]="page === 1">
        <i-feather name="arrow-left" class="table__arrow"></i-feather>
      </button>
    </li>

    <li *ngFor="let pageNum of pageList" class="page-item " [ngClass]="{'page-item active': pageNum == page}">
      <button class="page-link page-width"
        (click)="jumpToPage(pageNum)">{{ (pageNum !== 0 && pageNum !== -1) ? pageNum : '...' }}</button>
    </li>

    <li class="page-item">
      <button class="page-link page-arrow" (click)="jumpToPage(page+1)"
        [disabled]="page === pageList[pageList.length-1]">
        <i-feather name="arrow-right" class="table__arrow"></i-feather>
      </button>
    </li>
  </ul>
  {{ page }}
  <i-feather name="arrow-left" class="table__arrow"></i-feather>
</nav>
